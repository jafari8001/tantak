name: Auth
description: |-

  Authentication and Registration

  You can Login ny otp or by simple username and password
  You can create user or regsiter by otp
  You can get user info
  Tou can logout
endpoints:
  -
    httpMethods:
      - POST
    uri: api/v1/auth/login
    metadata:
      groupName: Auth
      groupDescription: |-

        Authentication and Registration

        You can Login ny otp or by simple username and password
        You can create user or regsiter by otp
        You can get user info
        Tou can logout
      subgroup: ''
      subgroupDescription: ''
      title: 'POST login'
      description: ''
      authenticated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      username:
        name: username
        description: 'usally user phone is his/her username.'
        required: true
        example: '09111111111'
        type: string
        custom: []
      password:
        name: password
        description: 'user password.'
        required: true
        example: '123456'
        type: string
        custom: []
    cleanBodyParameters:
      username: '09111111111'
      password: '123456'
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"status":200,"error":"","message":"","data":{"Authorization":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9OWfkCnovAF.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRM7msD0lPu6fvttc.7B4g7Ffr9IogcTCsukqSysWcM202211w74JTIImQUD7uWs2712tN3rqCuRFUxL57we2grc5w8uZWQ4OjiyAk21152W7Try7UWfoQmr1def5ezHA4lyrrSemdFUZGYwz9V5cz5q45gjb1c03e","user":{"id":"56194f1c-1398-44f0-87cd-c34d2356eeaf","username":"09111111111","birth_date":null,"description":null,"last_name":"\u0633\u0627\u0645\u0627\u0646\u0647","first_name":"\u0645\u062f\u06cc\u0631","national_code":null,"country_division_id":null,"avatar":"upload\/baseUpload\/default.jpg","person_type":"real","status":"active","created_at":"2022-11-27T07:50:42.000000Z","updated_at":"2022-11-27T07:50:42.000000Z","deleted_at":null,"sort":9999,"created_by":"56194f1c-1398-44f0-87cd-c34d2356eeaf","roles":[{"name":"\u0645\u062f\u06cc\u0631 \u0633\u0627\u06cc\u062a","id":"791d1b02-3610-4177-9051-eb7ae6b72def","actions":[{"alias":"user\/index"},{"alias":"user\/insert"},{"alias":"user\/update"},{"alias":"user\/delete"},{"alias":"user\/root"},{"alias":"role\/index"},{"alias":"role\/insert"},{"alias":"role\/update"},{"alias":"role\/delete"},{"alias":"role\/assign"},{"alias":"role\/root"},{"alias":"upload\/index"},{"alias":"upload\/insert"},{"alias":"upload\/update"},{"alias":"upload\/delete"},{"alias":"upload\/root"},{"alias":"exception_log\/index"},{"alias":"exception_log\/insert"},{"alias":"exception_log\/update"},{"alias":"exception_log\/delete"},{"alias":"exception_log\/root"},{"alias":"request_log\/index"},{"alias":"request_log\/insert"},{"alias":"request_log\/update"},{"alias":"request_log\/delete"},{"alias":"request_log\/root"},{"alias":"settings\/index"},{"alias":"settings\/insert"},{"alias":"settings\/update"},{"alias":"settings\/delete"},{"alias":"settings\/root"}]}]}},"patch":[],"date":"2022-11-27T09:16:52.178679Z"}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '59'
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/otp/send
    metadata:
      groupName: Auth
      groupDescription: |-

        Authentication and Registration

        You can Login ny otp or by simple username and password
        You can create user or regsiter by otp
        You can get user info
        Tou can logout
      subgroup: ''
      subgroupDescription: ''
      title: 'Post Send-OTP'
      description: ''
      authenticated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      username:
        name: username
        description: 'usally user phone is his/her username.'
        required: true
        example: '09111111111'
        type: string
        custom: []
    cleanBodyParameters:
      username: '09111111111'
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"status":500,"error":"","message":"SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (SQL: insert into \"tr00-otp_codes\" (\"ip\", \"code\", \"username\", \"id\", \"created_by\", \"updated_at\", \"created_at\") values (127.0.0.1, 4405, 09111111111, e3e06e0f-eee4-4695-af58-27212cf9eb26, 56194f1c-1398-44f0-87cd-c34d2356eeaf, 2022-11-27 12:46:52, 2022-11-27 12:46:52))","data":["SQLSTATE[25P02]: In failed sql transaction: 7 ERROR:  current transaction is aborted, commands ignored until end of transaction block (SQL: insert into \"tr00-otp_codes\" (\"ip\", \"code\", \"username\", \"id\", \"created_by\", \"updated_at\", \"created_at\") values (127.0.0.1, 4405, 09111111111, e3e06e0f-eee4-4695-af58-27212cf9eb26, 56194f1c-1398-44f0-87cd-c34d2356eeaf, 2022-11-27 12:46:52, 2022-11-27 12:46:52))","\/home\/sina\/workfiles\/php\/laravel\/Test\/apm-base-laravel\/vendor\/laravel\/framework\/src\/Illuminate\/Database\/Connection.php",759,"25P02"],"patch":[],"date":"2022-11-27T09:16:52.219579Z"}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '59'
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/otp/login
    metadata:
      groupName: Auth
      groupDescription: |-

        Authentication and Registration

        You can Login ny otp or by simple username and password
        You can create user or regsiter by otp
        You can get user info
        Tou can logout
      subgroup: ''
      subgroupDescription: ''
      title: 'Post Login-OTP'
      description: ''
      authenticated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      username:
        name: username
        description: 'usally user phone is his/her username.'
        required: true
        example: '09111111111'
        type: string
        custom: []
      code:
        name: code
        description: 'code send by sms/email to user.'
        required: true
        example: '1214'
        type: string
        custom: []
    cleanBodyParameters:
      username: '09111111111'
      code: '1214'
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"status":500,"error":"","message":"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647 \u06cc\u0627 \u0646\u0627\u0645\u0639\u062a\u0628\u0631 \u0627\u0633\u062a","data":["\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647 \u06cc\u0627 \u0646\u0627\u0645\u0639\u062a\u0628\u0631 \u0627\u0633\u062a","\/home\/sina\/workfiles\/php\/laravel\/Test\/apm-base-laravel\/app\/Models\/User\/OtpCode.php",39,0],"patch":[],"date":"2022-11-27T09:16:52.233417Z"}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '58'
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/user
    metadata:
      groupName: Auth
      groupDescription: |-

        Authentication and Registration

        You can Login ny otp or by simple username and password
        You can create user or regsiter by otp
        You can get user info
        Tou can logout
      subgroup: ''
      subgroupDescription: ''
      title: 'POST user'
      description: 'Shows current logged-in user info'
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ91iAVvZjwus.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRlAbjg3wped7eWZK.7SOmNVwhdducsM1rnSg962wjw2022111P5LurVbeLgatvA2611fjhj73Ae8riw4G1fQ1r2rI77LTN2r47NfvH1108frTh7PrfNg26dsSPHkjNiyxt7rFMW6pQWre72e51ePwYeQlltgVqVDi'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"status":200,"error":"","message":"","data":{"user":{"id":"56194f1c-1398-44f0-87cd-c34d2356eeaf","username":"09111111111","birth_date":null,"description":null,"last_name":"\u0633\u0627\u0645\u0627\u0646\u0647","first_name":"\u0645\u062f\u06cc\u0631","national_code":null,"country_division_id":null,"avatar":"upload\/baseUpload\/default.jpg","person_type":"real","status":"active","created_at":"2022-11-27T07:50:42.000000Z","updated_at":"2022-11-27T07:50:42.000000Z","deleted_at":null,"sort":9999,"created_by":"56194f1c-1398-44f0-87cd-c34d2356eeaf","roles":[{"name":"\u0645\u062f\u06cc\u0631 \u0633\u0627\u06cc\u062a","id":"791d1b02-3610-4177-9051-eb7ae6b72def","actions":[{"alias":"user\/index"},{"alias":"user\/insert"},{"alias":"user\/update"},{"alias":"user\/delete"},{"alias":"user\/root"},{"alias":"role\/index"},{"alias":"role\/insert"},{"alias":"role\/update"},{"alias":"role\/delete"},{"alias":"role\/assign"},{"alias":"role\/root"},{"alias":"upload\/index"},{"alias":"upload\/insert"},{"alias":"upload\/update"},{"alias":"upload\/delete"},{"alias":"upload\/root"},{"alias":"exception_log\/index"},{"alias":"exception_log\/insert"},{"alias":"exception_log\/update"},{"alias":"exception_log\/delete"},{"alias":"exception_log\/root"},{"alias":"request_log\/index"},{"alias":"request_log\/insert"},{"alias":"request_log\/update"},{"alias":"request_log\/delete"},{"alias":"request_log\/root"},{"alias":"settings\/index"},{"alias":"settings\/insert"},{"alias":"settings\/update"},{"alias":"settings\/delete"},{"alias":"settings\/root"}]}]}},"patch":[],"date":"2022-11-27T09:16:52.298596Z"}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '56'
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ91iAVvZjwus.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRlAbjg3wped7eWZK.7SOmNVwhdducsM1rnSg962wjw2022111P5LurVbeLgatvA2611fjhj73Ae8riw4G1fQ1r2rI77LTN2r47NfvH1108frTh7PrfNg26dsSPHkjNiyxt7rFMW6pQWre72e51ePwYeQlltgVqVDi'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/logout
    metadata:
      groupName: Auth
      groupDescription: |-

        Authentication and Registration

        You can Login ny otp or by simple username and password
        You can create user or regsiter by otp
        You can get user info
        Tou can logout
      subgroup: ''
      subgroupDescription: ''
      title: 'POST logout'
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ91iAVvZjwus.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRlAbjg3wped7eWZK.7SOmNVwhdducsM1rnSg962wjw2022111P5LurVbeLgatvA2611fjhj73Ae8riw4G1fQ1r2rI77LTN2r47NfvH1108frTh7PrfNg26dsSPHkjNiyxt7rFMW6pQWre72e51ePwYeQlltgVqVDi'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"status":200,"error":"","message":"","data":[],"patch":[],"date":"2022-11-27T09:16:52.308929Z"}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '55'
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ91iAVvZjwus.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRlAbjg3wped7eWZK.7SOmNVwhdducsM1rnSg962wjw2022111P5LurVbeLgatvA2611fjhj73Ae8riw4G1fQ1r2rI77LTN2r47NfvH1108frTh7PrfNg26dsSPHkjNiyxt7rFMW6pQWre72e51ePwYeQlltgVqVDi'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/refresh
    metadata:
      groupName: Auth
      groupDescription: |-

        Authentication and Registration

        You can Login ny otp or by simple username and password
        You can create user or regsiter by otp
        You can get user info
        Tou can logout
      subgroup: ''
      subgroupDescription: ''
      title: 'POST refresh-token'
      description: 'Get new token'
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ91iAVvZjwus.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRlAbjg3wped7eWZK.7SOmNVwhdducsM1rnSg962wjw2022111P5LurVbeLgatvA2611fjhj73Ae8riw4G1fQ1r2rI77LTN2r47NfvH1108frTh7PrfNg26dsSPHkjNiyxt7rFMW6pQWre72e51ePwYeQlltgVqVDi'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"status":200,"error":"","message":"","data":{"Authorization":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9Drnfyvufns.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRRapjngUInHtwX8k.QfeejrN1g2yvetUpz7ke4uwfs202211f77R81O4zk1p7O22712oa5E5edpkFg7l1jX67e7fJ1dgV2orQ40sye11527NOr04jMuu8yFtTg7IepL2o7rc3Plipds9qMf0lDewxYgvsWuQXBrRS","user":{"id":"56194f1c-1398-44f0-87cd-c34d2356eeaf","username":"09111111111","birth_date":null,"description":null,"last_name":"\u0633\u0627\u0645\u0627\u0646\u0647","first_name":"\u0645\u062f\u06cc\u0631","national_code":null,"country_division_id":null,"avatar":"upload\/baseUpload\/default.jpg","person_type":"real","status":"active","created_at":"2022-11-27T07:50:42.000000Z","updated_at":"2022-11-27T07:50:42.000000Z","deleted_at":null,"sort":9999,"created_by":"56194f1c-1398-44f0-87cd-c34d2356eeaf","roles":[{"name":"\u0645\u062f\u06cc\u0631 \u0633\u0627\u06cc\u062a","id":"791d1b02-3610-4177-9051-eb7ae6b72def","actions":[{"alias":"user\/index"},{"alias":"user\/insert"},{"alias":"user\/update"},{"alias":"user\/delete"},{"alias":"user\/root"},{"alias":"role\/index"},{"alias":"role\/insert"},{"alias":"role\/update"},{"alias":"role\/delete"},{"alias":"role\/assign"},{"alias":"role\/root"},{"alias":"upload\/index"},{"alias":"upload\/insert"},{"alias":"upload\/update"},{"alias":"upload\/delete"},{"alias":"upload\/root"},{"alias":"exception_log\/index"},{"alias":"exception_log\/insert"},{"alias":"exception_log\/update"},{"alias":"exception_log\/delete"},{"alias":"exception_log\/root"},{"alias":"request_log\/index"},{"alias":"request_log\/insert"},{"alias":"request_log\/update"},{"alias":"request_log\/delete"},{"alias":"request_log\/root"},{"alias":"settings\/index"},{"alias":"settings\/insert"},{"alias":"settings\/update"},{"alias":"settings\/delete"},{"alias":"settings\/root"}]}]}},"patch":[],"date":"2022-11-27T09:16:52.326048Z"}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '54'
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ91iAVvZjwus.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRlAbjg3wped7eWZK.7SOmNVwhdducsM1rnSg962wjw2022111P5LurVbeLgatvA2611fjhj73Ae8riw4G1fQ1r2rI77LTN2r47NfvH1108frTh7PrfNg26dsSPHkjNiyxt7rFMW6pQWre72e51ePwYeQlltgVqVDi'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth_token
    metadata:
      groupName: Auth
      groupDescription: ''
      subgroup: Token
      subgroupDescription: ''
      title: ''
      description: ''
      authenticated: true
      custom: []
    headers:
      Authorization: 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ91iAVvZjwus.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRlAbjg3wped7eWZK.7SOmNVwhdducsM1rnSg962wjw2022111P5LurVbeLgatvA2611fjhj73Ae8riw4G1fQ1r2rI77LTN2r47NfvH1108frTh7PrfNg26dsSPHkjNiyxt7rFMW6pQWre72e51ePwYeQlltgVqVDi'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"status":200,"error":"","message":"","data":{"model":{"current_page":1,"data":[{"ip":"","created_at":"2022-11-27T07:50:42.000000Z","user_agent":"","expired_token_at":"2100-01-01","deleted":null,"username":"09111111111","last_name":"\u0633\u0627\u0645\u0627\u0646\u0647","first_name":"\u0645\u062f\u06cc\u0631","national_code":null}],"first_page_url":"http:\/\/localhost:8001\/api\/v1\/auth_token?page=1","from":1,"last_page":1,"last_page_url":"http:\/\/localhost:8001\/api\/v1\/auth_token?page=1","links":[{"url":null,"label":"&laquo; Previous","active":false},{"url":"http:\/\/localhost:8001\/api\/v1\/auth_token?page=1","label":"1","active":true},{"url":null,"label":"Next &raquo;","active":false}],"next_page_url":null,"path":"http:\/\/localhost:8001\/api\/v1\/auth_token","per_page":20,"prev_page_url":null,"to":1,"total":1}},"patch":[],"date":"2022-11-27T09:16:52.686987Z"}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          x-ratelimit-limit: '60'
          x-ratelimit-remaining: '43'
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ91iAVvZjwus.zdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRlAbjg3wped7eWZK.7SOmNVwhdducsM1rnSg962wjw2022111P5LurVbeLgatvA2611fjhj73Ae8riw4G1fQ1r2rI77LTN2r47NfvH1108frTh7PrfNg26dsSPHkjNiyxt7rFMW6pQWre72e51ePwYeQlltgVqVDi'
    controller: null
    method: null
    route: null
    custom: []
